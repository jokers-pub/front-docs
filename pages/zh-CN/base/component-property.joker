<template>
    <div ref="container" class="joker-demo-container">
        <h2>ç»„ä»¶çš„å±æ€§</h2>
        <p>
            æˆ‘ä»¬çš„ç»„ä»¶å¼€å‘éƒ½åŸºäº
            <code>
                @("@joker.front/core")
            </code>
            è¿™ä¸ªå¼ºå¤§çš„åº“ã€‚å®ƒä¸ºå¼€å‘è€…æä¾›äº†ä¸€ç³»åˆ—çš„å·¥å…·å’Œ APIï¼ŒåŒ…æ‹¬ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ã€API å‡½æ•°å’Œå±æ€§ï¼Œè¿™äº›éƒ½å¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´é«˜æ•ˆã€æ›´ä¾¿æ·åœ°å®Œæˆç»„ä»¶çš„å¼€å‘ã€‚åœ¨è¿™ä¸ªç« èŠ‚ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä¸€ä¸ªç»„ä»¶ç±»çš„ç»„æˆï¼Œè®©æ‚¨äº†è§£å¦‚ä½•åˆ©ç”¨è¿™ä¸ªåº“æ¥æ‰“é€ å‡ºä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œã€æ€§èƒ½ä¼˜è¶Šçš„ç»„ä»¶ã€‚
        </p>
        <p>
            Joker é»˜è®¤æä¾›äº†ä¸€äº›é»˜è®¤å±æ€§å’Œå±æ€§çš„è§„èŒƒæ ‡å‡†ï¼Œè¯¥ç« èŠ‚ä¸»è¦ä»‹ç»ä¸‹è¿™äº›å±æ€§ï¼Œæ–¹ä¾¿æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ›´å¥½çš„ä½¿ç”¨ä»–ä»¬ã€‚
        </p>
        <h3>ç»„ä»¶å‚æ•°ï¼ˆprops / propsOptionï¼‰</h3>
        <p>
            åœ¨çˆ¶ç»„ä»¶ä¸­å¯ä»¥ä¼ é€’å‚æ•°åˆ°å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡ typescript çš„æ³›å‹æ¥ä¸ºç»„ä»¶æŒ‡å®šå‚æ•°ç±»å‹ï¼Œå¹¶å¯ä»¥é€šè¿‡
            <code>propsOption</code>
            æ¥ä¸ºå‚æ•°è®¾ç½®ä¸€äº›çº¦æŸæˆ–é»˜è®¤å€¼ã€‚
        </p>
        <pre><code class="language-ts">import { Component } from &quot;@joker.front/core&quot;;

export default class extends Component&lt;{
    message: string;
    checked: boolean;
    money: number;
}&gt; {}
</code></pre>
        <p>é€šè¿‡ä¸Šé¢çš„ä»£ç ç¤ºä¾‹å¯ä»¥çœ‹å‡ºï¼Œå½“å‰ç»„ä»¶ä¼šæ¥å—åˆ°ä¸‰ä¸ªå‚æ•°ï¼Œå¹¶æŒ‡å®šäº†ä¸‰ä¸ªå‚æ•°çš„ç±»å‹ã€‚</p>
        <blockquote>
            <p>
                å€¼çš„æ³¨æ„çš„æ˜¯ï¼ŒJoker ä¸ºäº†æœ€å¤§é™åº¦ä¿æŒçµæ´»åº¦ï¼Œå¯¹ç»„ä»¶çš„å‚æ•°æ˜¯å¼±çº¦æŸï¼Œå®šä¹‰çš„æ³›å‹ç±»å‹ï¼Œåªæ˜¯ä½œä¸ºç»„ä»¶å†…çš„å¿«é€Ÿæç¤ºå­˜åœ¨çš„ï¼Œä¸ä¼šåšå€¼çš„è½¬æ¢ã€éç©ºåˆ¤æ–­ç­‰æ“ä½œã€‚
            </p>
        </blockquote>
        <p>
            å½“ç„¶ï¼Œå¦‚æœä½ çš„ç»„ä»¶æœ‰å¯¹å‚æ•°çš„çº¦æŸã€é»˜è®¤å€¼ã€ç±»å‹çš„å¼ºåˆ¶è¦æ±‚ï¼Œæˆ‘ä»¬ä¹Ÿæä¾›äº†
            <code>propsOption</code>
            æ¥è¿›è¡Œé…ç½®ã€‚
        </p>
        <pre><code class="language-ts">import { Component } from &quot;@joker.front/core&quot;;

export default class extends Component&lt;{
    message: string;
    age: number;
    money: number;
    zIndex: number;
}&gt; {
    propsOption = {
        money: {
            //å¿…é¡»è¾“å…¥å‚æ•°
            required: true,
            //ç±»å‹
            type: [String, Number],
            //æ ¡éªŒ
            validate(val: any) {
                let value = parseInt(val);
                if (isNan(value)) {
                    console.error(&quot;moneyè¯·è¾“å…¥ç±»å‹&quot;);
                    return false;
                }
                return true;
            }
        },
        message: &quot;æˆ‘æ˜¯é»˜è®¤æç¤º&quot;,
        age: Boolean,
        zIndex: 1
    };
}
</code></pre>
        <p>é€šè¿‡ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹åˆ° propsOption æ”¯æŒä¸°å¯Œçš„ç”¨æ³•ï¼Œå®ƒçš„è§„åˆ™æ˜¯ï¼š</p>
        <ol>
            <li>
                <p>
                    å¦‚æœæ˜¯ String | ArrayConstructor | Number | Object | Function | Boolean æˆ– Array&lt;ä»¥ä¸Šç±»å‹&gt;ï¼Œåˆ™ä»£è¡¨çº¦æŸè¯¥å€¼çš„ç±»å‹ï¼Œå¹¶åœ¨å–å€¼æ—¶ï¼ŒæŒ‰ç…§é»˜è®¤çš„ç¬¬ä¸€ä¸ªç±»å‹å°è¯•å»è½¬æ¢ï¼Œè½¬æ¢å¤±è´¥åˆ™æŠ¥é”™ã€‚
                </p>
            </li>
            <li>
                <p>
                    å¦‚æœæ˜¯å¯¹è±¡ï¼Œå¯¹è±¡å†…åŒ…æ‹¬
                    <code>type</code>
                    /
                    <code>required</code>
                    /
                    <code>default</code>
                    /
                    <code>validate</code>
                    ä»»æ„ä¸€ä¸ªå±æ€§ï¼Œåˆ™æŒ‰ç…§å…¨å±æ€§ä½œä¸ºå‚æ•°çš„çº¦æŸã€‚
                    å…¨ç±»å‹å‚æ•°è¯´æ˜ï¼ˆå±æ€§å‡ä¸ºå¯é€‰ï¼‰ï¼š
                </p>
                <table class="mkd-table">
                    <thead>
                        <tr>
                            <th>å±æ€§å</th>
                            <th>è¯´æ˜</th>
                            <th>ç±»å‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>type</td>
                            <td>å€¼ç±»å‹</td>
                            <td>String / Array/ Number / Object / Function / Boolean æˆ– é…ç½®å¤šé¡¹[ä»¥ä¸Šç±»å‹]</td>
                        </tr>
                        <tr>
                            <td>required</td>
                            <td>æ˜¯å¦ä¸ºå¿…è¾“é¡¹</td>
                            <td>boolean</td>
                        </tr>
                        <tr>
                            <td>default</td>
                            <td>é»˜è®¤å€¼</td>
                            <td>any</td>
                        </tr>
                        <tr>
                            <td>validate</td>
                            <td>å€¼æ ¡éªŒæ–¹æ³•</td>
                            <td>(val:any)=&gt;boolean</td>
                        </tr>
                    </tbody>
                </table>
            </li>
            <li>
                <p>
                    è‹¥ä¸æ»¡è¶³ä»¥ä¸Šæ¡ä»¶ï¼Œåˆ™å°†è¯¥å€¼ä½œä¸ºå‚æ•°çš„é»˜è®¤å€¼ï¼Œå½“å‚æ•°ä¸º
                    <strong>undefined</strong>
                    æ—¶ï¼Œåˆ™æŒ‰ç…§æ­¤é»˜è®¤å€¼è¿”å›ã€‚
                </p>
            </li>
        </ol>
        <p>é€šè¿‡ä¸Šé¢çš„å†…å®¹å¯ä»¥äº†è§£åˆ°å¦‚ä½•å»å®šä¹‰å½“å‰ç»„ä»¶çš„å‚æ•°åŠå‚æ•°çš„çº¦æŸï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¸€èµ·çœ‹ä¸€ä¸‹å¦‚ä½•è¯»å–å‚æ•°ã€‚</p>
        <pre><code class="language-ts">let money = this.props.money;
</code></pre>
        <p>
            æˆ‘ä»¬å®šä¹‰çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡
            <code>props</code>
            å¯¹è±¡è¿›è¡Œè·å–ï¼Œå€¼çš„æ³¨æ„çš„æ˜¯ï¼Œè¯¥å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œå®ƒä¸å…è®¸é‡æ–°å®šä¹‰æˆ–è®¾ç½®æ–°å€¼ã€‚
        </p>
        <p>
            åœ¨å¤„ç†å‚æ•°ä¼ é€’æ—¶ï¼Œæˆ‘ä»¬é€šå¸¸ä¾æ®å…ƒç´ æ ‡ç­¾æ¥æ“ä½œã€‚ä¸ºäº†ç»´æŒå‘½åçš„ä¸€è‡´æ€§å’Œè§„èŒƒæ€§ï¼Œå±æ€§åç§°å¯èƒ½ä¼šé‡‡ç”¨
            <code>é©¼å³°å¼å‘½å</code>
            æˆ–ä½¿ç”¨
            <code>-</code>
            æ¥åˆ†éš”ã€‚ä¸ºäº†æ›´å¥½åœ°å…¼å®¹å¤šç§å‚æ•°å‘½åæ ‡å‡†ï¼Œæˆ‘ä»¬åœ¨è¯»å–å‚æ•°æ—¶å°†é‡‡å–ä»¥ä¸‹ç­–ç•¥ï¼šé¦–å…ˆï¼Œç›´æ¥ä½¿ç”¨åŸå§‹çš„é”®åå°è¯•è·å–å‚æ•°ï¼›å¦‚æœæœªèƒ½æˆåŠŸè·å–ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å°è¯•
            <strong>æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™</strong>
            è½¬æ¢å°å†™åè¿›è¡Œåˆ†å‰²ï¼Œå¹¶ç”¨
            <code>-</code>
            å°†å®ƒä»¬è¿æ¥èµ·æ¥ä½œä¸º keyï¼Œå†æ¬¡å°è¯•è·å–å‚æ•°ã€‚è¿™æ ·çš„å¤„ç†æ–¹å¼èƒ½å¤Ÿç¡®ä¿æˆ‘ä»¬èƒ½å¤Ÿçµæ´»åœ°é€‚åº”ä¸åŒçš„å‘½åè§„åˆ™ã€‚
        </p>
        <p>ä¾‹å¦‚ï¼š</p>
        <pre><code class="language-html">&lt;my-component success-message=&quot;æˆ‘æ˜¯æˆåŠŸæç¤º&quot; errorMessage=&quot;æˆ‘æ˜¯é”™è¯¯æç¤º&quot; /&gt;
</code></pre>
        <p>é‚£åœ¨ç»„ä»¶å†…å¯ä»¥è¿™æ ·å–å€¼ï¼Œè¿™äº›å–å€¼æ–¹å¼éƒ½æ˜¯å…è®¸çš„ã€‚</p>
        <pre><code class="language-ts">this.props.successMessage;
this.props[&quot;success-message&quot;];
this.props.errorMessage;
</code></pre>
        <p>
            Joker åœ¨å†…éƒ¨å¯¹ boolean åšäº†è¿›ä¸€æ­¥çš„ä¼˜åŒ–ï¼Œä¸ºäº†é¿å…åœ¨æ ‡ç­¾å†…ä½¿ç”¨
            <code>
                checked=&quot;@("@true")&quot;
            </code>
            è¿™æ ·å¤šä½™çš„æ“ä½œï¼Œå½“æˆ‘ä»¬é‡åˆ°ä¸€ä¸ªå±æ€§è¢«å®šä¹‰ä½†æ˜¯æ²¡æœ‰é…ç½®å€¼ï¼ˆæ³¨æ„ä¸æ˜¯ undefinedï¼Œè€Œæ˜¯æ²¡æœ‰
            <code>=</code>
            ï¼‰,åˆ™é»˜è®¤ä½œä¸º true å¤„ç†ã€‚ä¾‹å¦‚ï¼š
        </p>
        <pre><code class="language-html">&lt;my-component checked /&gt;
</code></pre>
        <p>
            æ›´å¤šæ¨¡æ¿è¯­æ³•å¯é€šè¿‡é˜…è¯»
            <a href="/base/template" target="_blank">æ¨¡æ¿</a>
            æ¥è¿›è¡Œæ·±åº¦äº†è§£ã€‚
        </p>
        <p>
            <code>props</code>
            çš„æ•°æ®æ˜¯å“åº”å¼æ•°æ®ï¼Œå½“å¤–éƒ¨å€¼å˜æ›´åï¼Œä¹Ÿä¼šè¿›è¡ŒåŒæ­¥é€šçŸ¥ï¼š
        </p>
        <DemoContainer component="@(components.DEMO_JOKER_demo1)">
            <pre><code class="language-html">&lt;template&gt;
    &lt;DemoRow&gt;
        &lt;jk-input @input=&quot;handleInput&quot; placeholder=&quot;Please enter the content.&quot; /&gt;
    &lt;/DemoRow&gt;
    &lt;MyComponent message=&quot;@model.inputValue&quot; /&gt;
&lt;/template&gt;
&lt;script&gt;
import { Component, VNode } from &quot;@joker.front/core&quot;;
import MyComponent from &quot;./children.joker&quot;;

export default class extends Component {
    components = {
        MyComponent
    };

    model = {
        inputValue: &quot;&quot;
    };

    handleInput(e: VNode.Event&lt;string&gt;) {
        this.model.inputValue = e.data;
    }
}
&lt;/script&gt;
</code></pre>
        </DemoContainer>
        <p>å­ç»„ä»¶çš„ä»£ç ï¼š</p>
        <pre><code class="language-html">&lt;template&gt; æˆ‘æ˜¯å­ç»„ä»¶ï¼Œä½ å½“å‰è¾“å…¥çš„å†…å®¹ï¼š@props.message &lt;/template&gt;
&lt;script&gt;
    import { Component } from &quot;@joker.front/core&quot;;

    export default class extends Component&lt;{
        message: string
    }&gt; {}
&lt;/script&gt;
</code></pre>
        <h3>å“åº”å¼æ•°æ®ï¼ˆmodelï¼‰</h3>
        <p>
            Joker å†…éƒ¨æä¾›äº†
            <a href="/base/observer" target="_blank">observer</a>
            æ•°æ®åŠ«æŒçš„æ–¹æ³•ï¼Œä½†æ˜¯ä¸ºäº†æ–¹ä¾¿å¼€å‘äººå‘˜å¿«é€Ÿçš„å®šä¹‰ç»„ä»¶å†…çš„å“åº”æ•°æ®ï¼Œæˆ‘ä»¬é»˜è®¤æä¾›äº† model å±æ€§ï¼Œè¯¥å±æ€§ä¼šåœ¨è£…è½½å¼€å§‹ä¹‹å‰è¢«åŠ«æŒï¼Œå¹¶æä¾›æ•°æ®å“åº”çš„èƒ½åŠ›ã€‚
        </p>
        <pre><code class="language-ts">export default class extends Component {
    model = {
        value: &quot;&quot;
    };
}
</code></pre>
        <p>
            å½“ç„¶ï¼Œ ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨
            <code>observer</code>
            æ–¹æ³•æ¥å®šä¹‰ä¸€ä¸ªå“åº”å¼æ•°æ®ã€‚
        </p>
        <pre><code class="language-ts">export default class extends Component {
    list = observer({
        value: &quot;&quot;
    });

    created() {
        this.$watch(
            () =&gt; this.list,
            () =&gt; {
                //å€¼å˜æ›´äº†
            }
        );
    }
}
</code></pre>
        <p>
            ç”±äºæˆ‘ä»¬ä½¿ç”¨çš„æ˜¯
            <code>typescript</code>
            æ ‡å‡†ï¼Œå½“ model å±æ€§çš„ç±»å‹è¿‡äºå¤æ‚ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨
            <code>as</code>
            çš„æ–¹å¼æ¥ä¸ºæŸä¸€ä¸ªå±æ€§åšç±»å‹æŒ‡å®šã€‚ä¾‹å¦‚ï¼š
        </p>
        <pre><code class="language-ts">export default class extends Component {
    model: {
        value?: { key: string; value: number };
    } = {
        value: undefined
    };
}
//ç­‰åŒäºğŸ‘‡ğŸ‘‡ğŸ‘‡ å¯¹äºå±æ€§å¤æ‚æˆ–è€…å¤šå±æ€§æ—¶æ›´æ–¹ä¾¿
export default class extends Component {
    model = {
        value: undefined as { key: string; value: number } | undefined,
        message: &quot;&quot;
    };
}
</code></pre>
        <blockquote>
            <p>
                æ³¨æ„ï¼Œæˆ‘ä»¬å»ºè®® model ä¸­åªå­˜æ”¾ä½ éœ€è¦å“åº”å¼å¯è§‚å¯Ÿçš„æ•°æ®ï¼Œå¯¹äºä¸´æ—¶çš„æ•°æ®ï¼Œå¯ä»¥ç›´æ¥ä½œä¸ºå±æ€§é…ç½®åœ¨ç»„ä»¶ç±»å†…ï¼Œä»¥å‡å°‘å“åº”å¼çš„æ•°æ®å¼€é”€ã€‚
            </p>
        </blockquote>
        <h3>æ¸²æŸ“æ¨¡æ¿ï¼ˆtemplateï¼‰</h3>
        <p>
            æˆ‘ä»¬é™¤äº†å€Ÿç”¨
            <code>SFC</code>
            æ¨¡å¼ä¸‹çš„ template æ ‡ç­¾å»å®šä¹‰æ¨¡æ¿å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ template å±æ€§å»å®šä¹‰æ¨¡æ¿ï¼Œè¿™æ ·çš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ js åˆ¤æ–­å»åˆ›å»ºæ›´å¤æ‚çš„æ¸²æŸ“æ¨¡æ¿ã€‚
        </p>
        <pre><code class="language-html">&lt;script&gt;
    import { Component, createElement, createText } from &quot;@joker.front/core&quot;;
    export default class extends Component {
        template = function () {
            let children = [];
            if (__DEV__) {
                children.push(createText(&quot;æˆ‘æ˜¯é€šè¿‡createTextåˆ›å»ºçš„å†…å®¹&quot;));
            }
            return [createElement(&quot;div&quot;, undefined, children)];
        };
    }
&lt;/script&gt;
</code></pre>
        <DemoContainer component="@(components.DEMO_JOKER_demo2)">
            <pre><code class="language-html">&lt;script&gt;
import { Component, createElement, createText } from &quot;@joker.front/core&quot;;
export default class extends Component {
    template = () =&gt; {
        let children = [];
        if (true) {
            children.push(createText(&quot;I'm the content created by createText.&quot;));
        }
        return [createElement(&quot;div&quot;, undefined, children)];
    };
}
&lt;/script&gt;
</code></pre>
        </DemoContainer>
        <h3>ç§æœ‰ç»„ä»¶ï¼ˆcomponentï¼‰</h3>
        <p>
            é€šè¿‡é…ç½®
            <code>component</code>
            å±æ€§æ¥é…ç½®å½“å‰ç»„ä»¶å†…çš„ç§æœ‰ç»„ä»¶ï¼Œç»„ä»¶çš„æ³¨å†Œæœºåˆ¶å¯æŸ¥çœ‹
            <a href="/base/component-register" target="_blank">ç»„ä»¶æ³¨å†Œ</a>
            ã€‚
        </p>
        <pre><code class="language-html">&lt;template&gt;
    &lt;MyComponent /&gt;
    &lt;MyAsyncComponent /&gt;
&lt;/template&gt;
&lt;script&gt;
    import { Component } from &quot;@joker.front/core&quot;;
    import MyComponent from &quot;./children.joker&quot;;
    export default class extends Component {
        component = {
            MyComponent,
            MyAsyncComponent: () =&gt; import(&quot;./async-children.joker&quot;)
        };
    }
&lt;/script&gt;
</code></pre>
        <DemoContainer component="@(components.DEMO_JOKER_demo3)">
            <pre><code class="language-html">&lt;template&gt;
    &lt;MyComponent message=&quot;I'm the parameter.&quot; /&gt;
    &lt;MyAsyncComponent message=&quot;I'm the parameter.&quot; /&gt;
&lt;/template&gt;
&lt;script&gt;
import { Component } from &quot;@joker.front/core&quot;;
import MyComponent from &quot;./children.joker&quot;;

export default class extends Component {
    components = {
        MyComponent,
        MyAsyncComponent: () =&gt; import(&quot;./async-children.joker&quot;)
    };
}
&lt;/script&gt;

</code></pre>
        </DemoContainer>
        <p>
            ç»„ä»¶çš„æ³¨å†Œæ˜¯æ”¯æŒå¼‚æ­¥çš„ï¼Œå¯ä»¥ä½¿ç”¨
            <code>()=&gt;import('component.joker')</code>
            çš„æ–¹å¼æ¥è¿›è¡Œç»„ä»¶çš„å¼‚æ­¥å¼•ç”¨ï¼Œå¼‚æ­¥å¼•ç”¨ç»„ä»¶ä¸ä¼šéšç€çˆ¶ç»„ä»¶çš„åˆå§‹åŒ–è€Œè¢«åŠ è½½ï¼Œç›´åˆ°è¯¥ç»„ä»¶éœ€è¦è¢«æ¸²æŸ“æ—¶æ‰ä¼šè¿›è¡ŒåŠ è½½ï¼Œä¾‹å¦‚ï¼š
        </p>
        <pre><code class="language-html">&lt;template&gt;
    @if(false){
    &lt;MyAsyncComponent /&gt;
    }
&lt;/template&gt;
&lt;script&gt;
    import { Component } from &quot;@joker.front/core&quot;;

    export default class extends Component {
        component = {
            MyAsyncComponent: () =&gt; import(&quot;./async-children.joker&quot;)
        };
    }
&lt;/script&gt;
</code></pre>
        <DemoContainer component="@(components.DEMO_JOKER_demo4)">
            <pre><code class="language-html">&lt;template&gt;
    &lt;DemoRow&gt;
        &lt;button @click=&quot;handleClick&quot;&gt;Toggle the display state of the child component.&lt;/button&gt;
    &lt;/DemoRow&gt;
    @if(model.show) {
        &lt;MyAsyncComponent message=&quot;I'm the parameter.&quot; /&gt;
    }
&lt;/template&gt;
&lt;script&gt;
import { Component, VNode } from &quot;@joker.front/core&quot;;

export default class extends Component {
    components = {
        MyAsyncComponent: () =&gt; import(&quot;./async-children-import.joker&quot;)
    };
    model = {
        show: false
    };

    handleClick() {
        this.model.show = !this.model.show;
    }
}
&lt;/script&gt;

</code></pre>
        </DemoContainer>
        <p>å¯ä»¥é€šè¿‡ä¸Šé¢çš„ä»£ç å’Œæ§åˆ¶å°è¾“å‡ºï¼ˆç½‘ç»œï¼‰å¯ä»¥çœ‹åˆ°ï¼Œå¼‚æ­¥ç»„ä»¶ä¼šåœ¨è¢«è¦æ±‚åŠ è½½æ—¶æ‰ä¼šè¢«åŠ è½½ã€‚</p>
        <h3>æ ¹èŠ‚ç‚¹ï¼ˆ$root / $rootVNodeï¼‰</h3>
        <p>
            åœ¨æ¸²æŸ“æ—¶ï¼Œæ¯ä¸€ä¸ªæ ‡ç­¾/ç»„ä»¶/æŒ‡ä»¤éƒ½æ˜¯ä»¥æ ‘çš„å½¢å¼å­˜åœ¨çš„ï¼Œç»„ä»¶ä¹Ÿä¸ä¾‹å¤–ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨$root å’Œ $rootVNode è¿™ä¸¤ä¸ªå±æ€§æ¥è·å–ä¸€ä¸ªç»„ä»¶çš„è£…è½½å®¹å™¨/ç»„ä»¶çš„ root æ ¹èŠ‚ç‚¹ã€‚
        </p>
        <p>é‚£æˆ‘ä»¬æ€ä¹ˆåŒºåˆ†$root å’Œ $rootVNode å‘¢ï¼Ÿ</p>
        <ul>
            <li>
                <p>
                    <code>$root</code>
                    è¡¨ç¤ºå½“å‰ç»„ä»¶çš„è£…è½½å®¹å™¨ï¼Œå®ƒæ˜¯å½“å®¹å™¨è¢«è£…è½½æ—¶ï¼ˆ$mountï¼‰æ—¶ä½œä¸ºå‚æ•°ä¼ é€’å¹¶æŒ‡å®šçš„ï¼Œå®ƒå¯ä»¥æ˜¯ä¸€ä¸ª HTML çš„ Elementï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ª VNode.Componentã€‚
                </p>
            </li>
            <li>
                <p>
                    <code>$rootVNode</code>
                    ä½œä¸ºå½“å‰ç»„ä»¶çš„é¡¶çº§èŠ‚ç‚¹ï¼Œå®ƒçš„ç±»å‹ä¸€å®šæ˜¯ VNode.Rootï¼Œç”±äºæˆ‘ä»¬çš„æ¸²æŸ“æ¨¡æ¿æ˜¯ä¸é™åˆ¶é¡¶çº§æ ‡ç­¾ä¸ªæ•°çš„ï¼Œæ‰€ä»¥å¿…é¡»ç”±ä¸€ä¸ª VNode.Root è¿›è¡ŒåŒ…è£¹ï¼Œé€šè¿‡è¿™ä¸ªå±æ€§æˆ‘ä»¬å°±æä¾›å‘ä¸‹æŸ¥æ‰¾èŠ‚ç‚¹ç­‰ç­‰çš„æ“ä½œäº†ã€‚è¯¥å±æ€§çš„å€¼ä¼šåœ¨æ¨¡æ¿æ¸²æŸ“æ—¶æ‰ä¼šåˆ›å»ºï¼Œæ‰€ä»¥åœ¨
                    <code>created</code>
                    ç”Ÿå‘½å‘¨æœŸå†…æ— æ³•è·å–åˆ°è¯¥å±æ€§çš„å€¼ã€‚
                </p>
            </li>
        </ul>
        <p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬è¦è·å–å½“å‰ç»„ä»¶æ‰€æœ‰ Element èŠ‚ç‚¹</p>
        <pre><code class="language-html">&lt;template&gt;
    &lt;div&gt;1&lt;/div&gt;
    &lt;div&gt;2&lt;/div&gt;
    &lt;div&gt;3&lt;/div&gt;
&lt;/template&gt;

&lt;script&gt;
    //...
    //è·å–æ‰€æœ‰elementèŠ‚ç‚¹
    this.$rootVNode?.find((n) =&gt; n instanceof VNode.Element);

    //å‘ä¸Šæ‰¾ï¼Œæ‰¾åˆ°æœ€è¿‘çš„ä¸€ä¸ªelementèŠ‚ç‚¹
    this.$rootVNode?.closest((n) =&gt; n instanceof VNode.Element);

    //...
&lt;/script&gt;
</code></pre>
        <p>
            å…¶ä¸­ VNode.Root ç›¸å…³çŸ¥è¯†ï¼Œå¯ä»¥ç‚¹å‡»
            <a href="/base/vnode" target="_blank">è™šæ‹ŸèŠ‚ç‚¹</a>
            å»äº†è§£ã€‚
        </p>
        <h3>æ‰€æœ‰æ ‡è®°èŠ‚ç‚¹ï¼ˆ$refsï¼‰</h3>
        <p>
            è¯¥å±æ€§å­˜æ”¾æ‰€æœ‰å·²ç»æ ‡è®°çš„èŠ‚ç‚¹ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªåªè¯»å±æ€§ï¼Œå½“èŠ‚ç‚¹è¢«æ–°å¢æˆ–é”€æ¯æ—¶ï¼Œè¯¥å±æ€§çš„å€¼ä¹Ÿä¼šå“åº”çš„åŒæ­¥ï¼ˆå€¼åŒæ­¥ï¼Œéå“åº”å¼æ•°æ®ï¼Œè‹¥æƒ³åšè§‚å¯Ÿå»ºè®®ä½¿ç”¨$watchNode APIï¼‰ã€‚
        </p>
        <pre><code class="language-ts">let count = this.$refs.refName?.count;
</code></pre>
        <p>
            å½“ç„¶ä½ ä¹Ÿå¯ä»¥è°ƒç”¨
            <code>$getRef</code>
            å’Œ
            <code>$getRefs</code>
            æ–¹æ³•æ¥æŸ¥æ‰¾æ ‡è®°èŠ‚ç‚¹ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ä½¿ç”¨ typescript çš„æ³›å‹ç±»æŒ‡å®šè¾“å‡ºç±»å‹ï¼Œæ›´æ–¹ä¾¿æ“ä½œã€‚
            <a href="/base/component-api" target="_blank">ç»„ä»¶å†…ç½®æ–¹æ³•</a>
        </p>
        <h3>æ˜¯å¦ä¿æŒçŠ¶æ€ï¼ˆisKeepAliveï¼‰</h3>
        <p>
            é€šè¿‡è¯¥å±æ€§å¯ä»¥åˆ¤æ–­ç»„ä»¶æ˜¯å¦è¦æ±‚ä¿æŒçŠ¶æ€ï¼Œè¦æ±‚ä¿æŒçŠ¶æ€çš„ç»„ä»¶ï¼Œåœ¨
            <code>$destroy</code>
            æ—¶ä¼šåªé”€æ¯æŒ‚è½½å…ƒç´ èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯é”€æ¯æ•´ä¸ªç»„ä»¶å®ä¾‹ï¼Œè¯¦ç»†å¯ä»¥å»
            <a href="/base/component-lifecycle" target="_blank">ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</a>
            ä¸­äº†è§£ã€‚
        </p>
        <p>ç»„ä»¶è°ƒç”¨ï¼Œå¹¶é…ç½® keep-aliveï¼š</p>
        <pre><code class="language-html">&lt;template&gt;
    &lt;MyComponent keep-alive /&gt;
&lt;/template&gt;
</code></pre>
        <p>
            å­ç»„ä»¶ä¸­å¯é€šè¿‡
            <strong>isKeepAlive</strong>
            æ¥åˆ¤æ–­æœ¬æ¬¡ç»„ä»¶æ¸²æŸ“æ˜¯å¦è¦æ±‚ä¿æŒçŠ¶æ€ã€‚
        </p>
        <pre><code class="language-ts">export class extends Component {
    created() {
        if (this.isKeepAlive) {
            //TODO:...
        }
    }
}
</code></pre>
        <h3>æ˜¯å¦å·²ç¡çœ ï¼ˆisSleepedï¼‰</h3>
        <p>
            å½“ç»„ä»¶è¦æ±‚ä¿æŒçŠ¶æ€æ—¶ï¼Œåœ¨
            <code>$destroy</code>
            æ—¶ä¼šåªé”€æ¯æŒ‚è½½å…ƒç´ èŠ‚ç‚¹ï¼Œè€Œä¸æ˜¯é”€æ¯æ•´ä¸ªç»„ä»¶å®ä¾‹ï¼Œè¯¦ç»†å¯ä»¥å»
            <a href="/base/component-lifecycle" target="_blank">ç»„ä»¶ç”Ÿå‘½å‘¨æœŸ</a>
            ä¸­äº†è§£ã€‚
            æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå±æ€§æ¥åˆ¤æ–­å½“å‰ç»„ä»¶çš„çŠ¶æ€ï¼Œä¾‹å¦‚ï¼š
        </p>
        <pre><code class="language-ts">export class extends Component {
    //å®šæ—¶ä»»åŠ¡è§¦å‘å‡½æ•°
    testMethod() {
        //å½“ç»„ä»¶ç¡çœ æ—¶å¿½ç•¥å®šæ—¶æ‰§è¡Œã€‚
        if (this.isSleeped) return;

        MessageBox.alert(&quot;å®šæ—¶å™¨è¢«è§¦å‘ã€‚&quot;);
    }
}
</code></pre>
        <h3>æ¸²æŸ“åŒºå—ï¼ˆ$sectionsï¼‰</h3>
        <p>
            è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œä»£è¡¨å½“å‰ç»„ä»¶å†…ä¼ å…¥çš„å¾…æ¸²æŸ“åŒºå—ï¼Œä½¿ç”¨æ–¹å¼å¯æŸ¥çœ‹
            <a href="/base/template-section" target="_blank">åŒºå—æ¸²æŸ“</a>
            ã€‚
        </p>
        <pre><code class="language-ts">class extends Component {
    myFunction() {
        if (this.$sections.top) {
            //ä¼ å…¥äº†topåŒºå—æ¨¡æ¿
        } else {
            //æ²¡æœ‰ä¼ å…¥topåŒºå—æ¨¡æ¿
        }
    }
}
</code></pre>
        <h3>ç›‘å¬è€… ($listeners)</h3>
        <p>è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œä»£è¡¨å½“å‰ç»„ä»¶æ‰€æœ‰äº‹ä»¶ç›‘å¬è€…ï¼Œå¦‚æœä½ æƒ³åˆ¤æ–­ç»„ä»¶æ˜¯å¦ç›‘å¬äº†æŸä¸ªäº‹ä»¶å¯ä»¥ä½¿ç”¨è¯¥å±æ€§è¿›è¡Œåˆ¤æ–­ã€‚</p>
        <pre><code class="language-ts">class extends Component {
    myFunction() {
        if (this.$listeners.click) {
            //å¤–éƒ¨ç›‘å¬äº†clickäº‹ä»¶
        } else {
            //æœªç›‘å¬clickäº‹ä»¶
        }
    }
}

</code></pre>
        <p>
            è¯¥å±æ€§ç±»å‹ä¸ºå¯¹è±¡ç±»å‹ï¼Œå…¶ä¸­
            <code>key</code>
            ä»£è¡¨åŒºå—åç§°ï¼Œ
            <code>value</code>
            ä»£è¡¨å¾…æ¸²æŸ“åŒºå—çš„å¯¹è±¡æ•°æ®ï¼Œå®ƒçš„è¯¦ç»†ç±»å‹å¦‚ä¸‹(SectionType)ï¼š
        </p>
        <table class="mkd-table">
            <thead>
                <tr>
                    <th>å±æ€§å</th>
                    <th>è¯´æ˜</th>
                    <th>ç±»å‹</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>asts</td>
                    <td>
                        AST æ ‘ï¼Œå¯æŸ¥çœ‹
                        <a href="/base/ast" target="_blank">AST</a>
                        è¿›è¡Œäº†è§£
                    </td>
                    <td>AST.Node[]</td>
                </tr>
                <tr>
                    <td>ob</td>
                    <td>æ¸²æŸ“è¯¥æ¨¡æ¿æ—¶æ‰€éœ€çš„æ•°æ®å¯¹è±¡ï¼ˆobï¼‰</td>
                    <td>Object</td>
                </tr>
                <tr>
                    <td>parser</td>
                    <td>æ¸²æŸ“è¯¥æ¨¡æ¿æ—¶æ‰€åœ¨çš„ parser è§£æå¯¹è±¡</td>
                    <td>ParserTemplate</td>
                </tr>
                <tr>
                    <td>params</td>
                    <td>
                        å‚æ•°ï¼Œå¯å‚è€ƒ
                        <a href="/base/template-section" target="_blank">åŒºå—æ¸²æŸ“</a>
                        ä¸­çš„åŒºå—å‚æ•°ç« èŠ‚ï¼Œè¯¥å±æ€§
                        <strong>ä¸ä»£è¡¨å‚æ•°å€¼</strong>
                        ï¼Œè€Œæ˜¯
                        <strong>å‚æ•°åç§°</strong>
                    </td>
                    <td>string[]</td>
                </tr>
            </tbody>
        </table>
        <blockquote>
            <p>è¯¥å±æ€§ä¸ºåªè¯»å±æ€§ï¼Œä¸å»ºè®®ä¿®æ”¹è¯¥å±æ€§çš„å€¼ï¼Œå±æ€§å€¼ç”± Core å†…éƒ¨ç”Ÿæˆã€‚</p>
        </blockquote>
        <BottomNav />
    </div>
</template>

<script>
import { Component } from "@joker.front/core";
import hljs from "highlight.js/lib/common";
import BottomNav from "../../../common/components/bottom-nav.joker";
import DEMO_JOKER_demo4 from "../../../examples/base/component-property/demo4.joker";
import DEMO_JOKER_demo3 from "../../../examples/base/component-property/demo3.joker";
import DEMO_JOKER_demo2 from "../../../examples/base/component-property/demo2.joker";
import DEMO_JOKER_demo1 from "../../../examples/base/component-property/demo1.joker";
export default class extends Component {
    components = {
        BottomNav,
        DEMO_JOKER_demo4,
        DEMO_JOKER_demo3,
        DEMO_JOKER_demo2,
        DEMO_JOKER_demo1
    };
    mounted() {
        let container = this.$getRef("container")?.output!;
        container.querySelectorAll("pre code").forEach((el: HTMLElement) => {
            hljs.highlightElement(el);
        });
    }
}

</script>